# Installation of documents

There are two forms of documentation in this directory: OpenRVDAS HOWTO documents in 
markdown format in the top-level directory and autogenerated server, module and api
documents in HTML format in the `/html` subdirectory.

No manual installation is needed to view the HTML documentation at
`http://hostname/docs/html`. However, the markdown documents will be served unrendered. 
There are several ways to render them correctly and make them available from the
OpenRVDAS web server; this document describes one way, using the `mkdocs` package.

First, install the package:
 
```
venv/bin/pip install mkdocs

cat > /opt/openrvdas/mkdocs.yml <<EOF
site_name: OpenRVDAS Documents
theme: readthedocs
docs_dir: '/opt/openrvdas/docs'
dev_addr: '10.10.0.1'  # machine ip
EOF
```

Then run
```
mkdocs serve
```
and your documentation will be available at `http://hostname:8001`.

To have it run at startup, edit the file `/etc/supervisord.d/openrvdas.ini` (or the
equivalent appropriate supervisor file for your installation) and add a new program
section near the end:

```
; Run an OpenRVDAS doc server on port 8001
[program:mkdocs]
command=/opt/openrvdas/venv/bin/mkdocs serve
directory=/opt/openrvdas
autostart=true
autorestart=true
startretries=3
stderr_logfile=/var/log/openrvdas/mkdocs.err.log
user=rvdas
```

Restart supervisord, and you should now have a docserver that runs at startup and serves
on port 8001.
